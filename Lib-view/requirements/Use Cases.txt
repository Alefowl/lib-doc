Пользовательские сценарии

Действующие лица:
NonSubscriber – Неавторизированный пользователь
Subscriber – Авторизированный пользователь
Contributor – Администратор без прав на удаление контента
Administrator – Администратор с правами на удаление контента

Метки в UC:
UC – N – Идентификатор Варианта использования, где N – порядковый номер ВИ
N – Идентификатор нормального направления, где N – порядковый номер ВИ
A-N.M – Идентификатор альтернативного направления UC, где A –буквенная метка, обозначающая альтернативное направление, N – порядковый номер ВИ, M – подпункт основного направления, в котором возможен альтернативное развитие UC
E-N.M – Идентификатор альтернативного направления UC, где A –буквенная метка, обозначающая исключение, N – порядковый номер ВИ, M – подпункт основного направления, в котором возможно исключение

UC – 1 Просмотр главной страницы

Действующие лицо
	NonSubscriber, Subscriber, Contributor, Administrator
Описание
	Пользователь находится на главной странице, на которой отображается список книг, 
	а также основные функциональные элементы, такие как хедер, футер и поиск книг
Триггер
	1. Пользователь зашел на сайт
	2. Перенаправление с другой страницы на главную
Предварительные условия
	Нет
Выходные условия
	Пользователь видит список книг и основные функциональные элементы
Нормальное направление
	1.0 Просмотр главной страницы
		1. Пользователь зашел на сайт
		2. Система отображает главную страницу
Альтернативное направление
	A-1.0 Просмотр главной страницы после перенаправления
		1. Пользователя перенаправило на главную страницу
		2. Система отображает главную страницу
Исключения
	E-1.1 Непредвиденная ошибка соединения
		1. Система получила непредвиденную ошибку
		2. Система выводит страницу обработки ошибки с отображение кода состояния


UC – 2 Регистрация

Действующие лицо
	NonSubscriber
Описание
	Пользователь создает учетную запись на сайте
Триггер
	1. Пользователь нажал на кнопку «Sign up» в Хедере
	2. Переход из чтения книги для NonSubscriber
	3. Переход из Скачивания книги для NonSubscriber
Предварительные условия
	1. Пользователь перенаправлен на страницу регистрации
Выходные условия
	1. Пользователь создал учетную запись
Нормальное направление
	1.0 Регистрация на сайте
		1. Система перенаправляет пользователя на страницу регистрации
		2. На странице регистрации система отображает пользователю форму с полями для ввода следующей информации согласно файлу RegData:
		•login
		•firstname
		•surname
		•email
		•origlang
		•langs
		•location
		•tg
		•password
		3. Пользователь вводит свои данные в соответствующие поля.
		4. Пользователь нажимает на кнопку «Register»
		5. Система проверяет введенные данные на валидность
		6. Система создает новую учетную запись для пользователя
		7. Система выводит сообщение об успешной регистрации
		8. Система авторизует пользователя в системе
		9. Система перенаправляет пользователя на последнюю просмотренную им страницу
Альтернативное направление
	Нет
Исключения
	E-2.5 Пользователю отказано в регистрации
		1. Система проверяет введенные данные на валидность
		2. Введенные данные некорректны
		3. Система выводит пользователю сообщение об отказе
		4. Переход к Пункту 5 основного направления
	E-1.1 Непредвиденная ошибка соединения
		1. Система получила непредвиденную ошибку
		2. Система выводит страницу обработки ошибки с отображение кода состояния


UC – 3 Выбор книги

Действующие лицо
	NonSubscriber, Subscriber, Contributor, Administrator
Описание
	Пользователь выбирает книгу из списка, отображаемого на текущей странице
Триггер
	1. Пользователь хочет прочитать книгу
Предварительные условия
	1. Пользователь находится на главной странице
	2. Пользователь находится на странице книг определенного автора
Выходные условия
	1. Пользователь выбрал книгу для прочтения
Нормальное направление
	3.0 Пользователь выбирает книгу
		1. Пользователь выбирает книгу из списка
		2. Система перенаправляет пользователя на страницу книги
		3. Переход к UC – 5
Альтернативное направление
	Нет
Исключения
	Нет



UC- 4 Просмотр книги  
Действующие лицо
	NonSubscriber, Subscriber, Contributor, Administrator
Описание
	Пользователь находится на странице, на которой располагается текст книги, 
	а также основные функциональные элементы этой страницы, такие как пагинация и выбор языка чтения
Триггер
	1. Переход из UC – 3
Предварительные условия
	1. Пользователя перенаправило на страницу книги
Выходные условия
	1. Пользователь читает книгу
Нормальное направление
	4.0 Просмотр книги роль Subscriber
		1. Система отображает пользователю страницу книги
		2. Пользователь читает книгу
Альтернативное направление
	A-4.0 Просмотр книги роль NonSubscriber
		1. Система отображает пользователю превью книги, состоящее из первых 10% книги 
		2. Система отображает пользователю информационное сообщение с предложением авторизации
		3. Пользователь прочитал превью
		4. Переход к UC - 1
Исключения
	Нет


UC- 5 Режим разделенного просмотра

Действующие лицо
	NonSubscriber, Subscriber, Contributor, Administrator
Описание
	Пользователь может включить язык разделенного просмотра на странице чтения книги. 
Триггер
	1. Пользователь хочет читать книгу на двух языках
Предварительные условия
	1. Пользователь находится на странице книги
Выходные условия
	1. Пользователь включил режим разделенного просмотра
Нормальное направление
	5.0 Режим раздельного просмотра роль Subscriber
		1. Пользователь запросил включение режима разделенного просмотра
		2. Система отображает пользователю разделенный режим просмотра
Альтернативное направление
	A-5.0 Режим раздельного просмотра роль NonSubscriber
		1.Пользователь запросил включение режима разделенного просмотра
		2.Система в режиме разделенного просмотра отображает пользователю превью двух переводов книги
		3.Система отображает пользователю информационное сообщение с предложением регистрации
		4.Пользователь прочитал превью
		5.Переход к UC - 2
Исключения
	E-5.0 Книга не поддерживает раздельный режим просмотра
		1. Система информирует пользователя о том, что книга не поддерживает режим раздельного просмотра
		2. Переход к UC-4




UC- 6 Выбор языка чтения

Действующие лицо
	NonSubscriber, Subscriber, Contributor, Administrator
Описание
	Пользователь выбирает язык
Триггер
	1. Пользователь хочет прочитать книгу на определенном языке
	2. Пользователь хочет прочитать книгу в режиме разделенного просмотра на разных языках
Предварительные условия
	1. Пользователь находится на странице книги
Выходные условия
	1.Пользователь выбрал язык
Нормальное направление
	6.0 Выбор языка в обычном режиме
		1. Пользователь запросил смену языка
		2. Система отобразила пользователю доступные для чтения языки
		3. Пользователь выбрал язык
		4. Система отобразила пользователю книгу на выбранном языке

Альтернативное направление
	A-6.0 Выбор языка в режиме разделенного просмотра
		1. Пользователь запросил смену языка для одной из книг
		2. Система отобразила пользователю доступные для чтения языки
		3. Пользователь выбрал язык
		4. Система отобразила пользователю книгу на выбранном языке
		5. Пользователь запросил смену языка для другой книги
		6. Система отобразила пользователю доступные для чтения языки
		7. Пользователь выбрал язык
		8. Система отобразила пользователю книгу на выбранном языке

Исключения
	E-6.0 Книга не поддерживает выбор языка
		1. Система информирует пользователя о том, что книга не имеет других переводов
		3. Система предлагает пользователю добавить перевод книги
		2. Переход к UC-4


UC- 7 Скачивание книги
Действующие лицо
	NonSubscriber, Subscriber, Contributor, Administrator
Описание
	Пользователь скачивает выбранную книгу
Триггер
	1. Пользователь хочет скачать книгу
Предварительные условия
	1. Пользователь находится на странице книги
Выходные условия
 1. Пользователь скачал книгу
Нормальное направление
	7.0 Скачивание книги роль Subscriber
		1.	Пользователь запрашивает скачивание книги
		2. Система открывает окно с настройками скачивания
		3. Пользователь выставляет настройки
		4. Пользователь подтверждает скачивание
		5. Система выводит информационное окно о состоянии загрузки
		6. Книга скачана
Альтернативное направление
	Нет
Исключения
	E-7.0 Скачивание книги роль NonSubscriber
		1. Пользователь запрашивает скачивание книги
		2. Система информирует пользователя о том, что скачивание доступно только авторизованным пользователям
		3. Система предлагает пользователю зарегистрироваться
		4. Переход к UC – 1



UC- 8 Просмотр страницы с авторами
Действующие лицо
	NonSubscriber, Subscriber, Contributor, Administrator
Описание
	Пользователь просматривает страницу со списком всех авторов доступных в системе. 
	На странице отображается список автором, а также основные функциональные элементы, такие как пагинация и поиск
Триггер
	1. Пользователь захотел узнать список всех авторов
Предварительные условия
	Нет
Выходные условия
	1. Пользователь находится на странице списка авторов
Нормальное направление
	8.0 Просмотр страницы с авторами
		1. Пользователь запросил страницу с авторами
		2. Система перенаправляет пользователя на страницу с авторами
		3. Система отображает пользователю страницу с авторами
Альтернативное направление
	Нет 
Исключения
	Нет



UC- 9 Просмотр страницы автора
Действующие лицо
	NonSubscriber, Subscriber, Contributor, Administrator
Описание
	Пользователь находится на странице конкретного автора, где располагается основная информация о нем, 
	а также список книг, доступных для чтения в системе
Триггер
	1. Пользователь зашел на страницу автора
	2. Пользователя перенаправило с другой страницы
Предварительные условия
	Нет
Выходные условия
	1. Пользователь находится на странице автора
Нормальное направление
	9.0 Просмотр страницы автора
		1. Пользователь запросил страницу автора
		2. Система перенаправляет пользователя на страницу автора
		3. Система отображает пользователю страницу автора
Альтернативное направление
	Нет
Исключения
	Нет


UC- 10 Авторизация
Действующие лицо
	Subscriber, Contributor, Administrator
Описание
	Пользователь авторизуется на сайте
Триггер
	1. Пользователь нажал на кнопку «Log in»
Предварительные условия
	1. Пользователь находится на сайте
Выходные условия
	1. Пользователь авторизирован
Нормальное направление
	10.0 Авторизация пользователя на сайте
		1. Система отображает пользователю страницу авторизации
		2. На странице авторизации система отображает пользователю форму с полями для ввода следующей информации:
		• Логин
		• Пароль
		3. Пользователь вводит свои данные в соответствующие поля.
		4. Пользователь нажимает на кнопку «Sign In»
		5. Система проверяет введенные данные на валидность
		6. Система перенаправляет пользователя на главную страницу 
		7. Переход к UC – 1
Альтернативное направление
	Нет
Исключения
	E-2.6 Пользователю отказано в авторизации
		1. Система проверяет введенные данные на валидность
		2. Введенные данные некорректны
		3. Система выводит пользователю сообщение об отказе
		4. Переход к Пункту 3 основного направления



UC – 11 Просмотр личного кабинета
Действующие лицо
	Subscriber, Contributor, Administrator
Описание
	Пользователь просматривает свой личный кабинет, 
	в котором располагается его основная информация, экран настроек, 
	а также экран добавления информации в систему
Триггер
	1. Пользователю необходимо воспользоваться функционалом личного кабинета
Предварительные условия
	1. Пользователь авторизирован
Выходные условия
	1. Пользователь находится в личном кабинете
Нормальное направление
	11.0 Просмотр личного кабинета
		1. Пользователь запрашивает отображение личного кабинета
		2. Система перенаправляет пользователя в личный кабинет
		3. Система отображает личный кабинет
Альтернативное направление
	Нет
Исключения
	Нет


UC- 12 Добавить метакнигу
Действующие лицо
	Contributor, Administrator
Описание
	В личном кабинете пользователь имеет возможность добавить метакнигу
Триггер
	1. Пользователю необходимо добавить метакнигу
Предварительные условия
	1. Пользователь находится на странице администрирования
	2. В систему добавлен хотя бы один язык
	3. В систему добавлен хотя бы один автор
Выходные условия
	1. Пользователь добавил метакнигу
Нормальное направление
	12.0 Добавить метакнигу
		1. В поле «Название метакниги» пользователь вводит название метакниги
		2. В поле «Размер метакниги» пользователь вводит количество глав метакниги
		3. В поле «Год написния» пользователь вводит год написания метакниги
		4. Из списка пользователь выбирает язык, на котором была написана книга
		5. Из списка пользователь выбирает автора книги
		6. Пользователь нажимает на кнопку «Сохранить метакнигу»
		7. Система выводит сообщение о том, что метакнига была добавлена
		8. Система возвращается к нормальному состоянию страницы администрирования
Альтернативное направление
	Нет
Исключения
	E-12.6 Метакнига уже есть в системе
		1. Пользователь нажимает на кнопку «Сохранить метакнигу»
		2. Система выводит сообщение о том, что метакнига уже есть в системе


UC- 13 Добавить книгу
Действующие лицо
	Contributor, Administrator
Описание
	На странице администрирования пользователь имеет возможность добавить книгу
Триггер
	1. Пользователю необходимо добавить книгу
Предварительные условия
	1. Пользователь находится на странице администрирования
	2. В систему добавлен хотя бы один язык
	3. В систему добавлен хотя бы один автор
	4. В систему добавлена хотя бы одна метакнига
Выходные условия
	1. Пользователь добавил книгу
Нормальное направление
	11.0 Добавить книгу
		1. В поле «Название книги» пользователь вводит название книги
		2. Из списка пользователь выбирает автора книги
		3. Из списка пользователь выбирает язык, на котором была написана книга
		4. Из списка пользователь выбирает метакнигу, к которой относится книга
		5. Пользователь нажимает на кнопку «Сохранить книгу»
		6. Система выводит сообщение о том, что книга была добавлена
		7. Система возвращается к нормальному состоянию страницы администрирования
Альтернативное направление
	Нет
Исключения
	E-13.5 Книга уже есть в системе
		1. Пользователь нажимает на кнопку «Сохранить книгу»
		2. Система выводит сообщение о том, что книга уже есть в системе



UC- 14 Добавить Автора\Переводчика
Действующие лицо
	Subscriber, Contributor, Administrator
Описание
	В личном кабинете пользователь имеет возможность добавить автора\переводчика
Триггер
	1. Пользователю необходимо добавить автора
Предварительные условия
	1. Пользователь находится на странице администрирования
	2. В систему добавлен хотя бы один язык
Выходные условия
	1. Пользователь добавил автора\переводчика
Нормальное направление
	11.0 Добавить Автора\Переводчика
		1. В поле Имя Автора пользователь вводит имя автора\переводчика
		2. Из списка языков пользователь выбирает язык, на котором писал автор\переводчик
		3. Пользователь нажимает на кнопку «Сохранить автора»
		4. Система выводит сообщение о том, что автор был добавлен
		5. Система возвращается к нормальному состоянию страницы администрирования
Альтернативное направление
	Нет
Исключения
	E-14.3 Автор уже есть в системе
		1. Пользователь нажимает на кнопку «Сохранить автора»
		2. Система выводит сообщение о том, что автор уже есть в системе


UC- 15 Настройка данных пользовательского аккаунта
Действующие лицо
	Subscriber, Contributor, Administrator
Описание
	Пользователь настраивает данные своего аккаунта через экран настроек в личном кабинете
Триггер
	1. Пользователю необходимо изменить свои данные
Предварительные условия
	1. Пользователь авторизирован 
Выходные условия
	1. Пользователь изменил данные своего аккаунта
Нормальное направление
	11.0 Настройка данных
		1. Пользователь запрашивает экран настроек
		2. Система отображает экран настроек
		3. Пользователь изменяет данные
		4. Пользователь сохраняет изменения
		5. Система запрашивает подтверждение действия
		6. Пользователь подтверждает действие
		7. Система сохраняет изменения
Альтернативное направление
	Нет
Исключения
	E-15.4 Введенные данные некорректны
		1. Пользователь пытается сохранить изменения
		2. Система сообщает о том, что введенные данные некорректны
		3. Переход к пункту 2 основного направления


UC-  16 Выход из аккаунта
Действующие лицо
	Subscriber, Contributor, Administrator
Описание
	Пользователь выходит из своего аккаунта через экран настроек
Триггер
	1. Пользователю необходимо сменить аккаунт
Предварительные условия
	1. Пользователь находится на экране настроек
Выходные условия
	1. Пользователь вышел из аккаунта
Нормальное направление
	16.0 Выход из аккаунта
		1. Пользователь запрашивает выходи из аккаунта
		2. Система запрашивает подтверждение действия
		3. Пользователь подтверждает действие
		4. Система перенаправляет пользователя на главную страниц со статусом NonSubscriber 
Альтернативное направление
	Нет 
Исключения
	Нет


UC- 17 Восстановление данных аккаунта
Действующие лицо
	Subscriber, Contributor, Administrator
Описание
	Пользователь имеет возможность восстановить данные от аккаунта со страницы авторизации
Триггер
	1. Пользователь забыл данные от своего аккаунта и хочет их восстановить
Предварительные условия
	1. Пользователь находится на странице авторизации
Выходные условия
	1. Пользователь восстановил доступ к аккаунту
Нормальное направление
	11.0 Восстановление доступа к аккаунту
		1. Пользователь запрашивает восстановление доступа к аккаунту
		2. Система перенаправляет пользователя на страницу восстановления доступа
		3. Пользователь вводит данные для восстановления аккаунта
		4. Система информирует пользователя об успешном восстановлении доступа
Альтернативное направление
	Нет 
Исключения
	Нет


UC- 18 Удалить автора
Действующие лицо
	Administrator
Описание
	На странице администрирования пользователь имеет возможность удалить автора
Триггер
	1. Пользователю необходимо автора
Предварительные условия
	1. Пользователь находится на странице администрирования
	2. В систему добавлен хотя бы один автор
Выходные условия
	1. Пользователь удалил книгу
Нормальное направление
	11.0 Удалить автора
		1. Пользователь нажимает на кнопку «Удалить автора»
		2. Система запрашивает подтверждение действия
		3. Пользователь подтверждает действие
		4. Система удаляет книгу
		5. Система выводит обновленный список авторов на странице администрирования
Альтернативное направление
	Нет
Исключения
	Нет


UC- 19  Удалить метакнигу
Действующие лицо
	Administrator
Описание
	На странице администрирования пользователь имеет возможность удалить метакнигу
Триггер
	1. Пользователю необходимо метакнигу
Предварительные условия
	1. Пользователь находится на странице администрирования
	2. В систему добавлена хотя бы одна метакнига
Выходные условия
	1. Пользователь удалил метакнигу
Нормальное направление
	11.0 Удалить метакнигу
		1. Пользователь нажимает на кнопку «Удалить метакнигу»
		2. Система запрашивает подтверждение действия
		3. Пользователь подтверждает действие
		4. Система удаляет метакнигу
		5. Система выводит обновленный список метакниг на странице администрирования
Альтернативное направление
	Нет
Исключения
	Нет


UC- 20 Удалить книгу
Действующие лицо
	Administrator
Описание
	На странице администрирования пользователь имеет возможность удалить книгу
Триггер
	1. Пользователю необходимо книгу
Предварительные условия
	1. Пользователь находится на странице администрирования
	2. В систему добавлена хотя бы одна книга
Выходные условия
	1. Пользователь удалил книгу
Нормальное направление
	11.0 Удалить книгу
		1. Пользователь нажимает на кнопку «Удалить книгу»
		2. Система запрашивает подтверждение действия
		3. Пользователь подтверждает действие
		4. Система удаляет книгу
		5. Система выводит обновленный список книг на странице администрирования
Альтернативное направление
	Нет
Исключения
	Нет

